# 0113\_「セキュア・バイ・デザイン」 読書 継続 386 日

# 第５章 ドメイン・プリミティブ（domain primitive）

実装テクニックと対応セキュリティの課題

実装テクニック,対応されるセキュリティの課題
ドメイン・プリミティブと不変条件,コードの不正確さ、エラーの起こりやすさ、曖昧さ
Read-Once オブジェクト,機密性の高いデータの漏洩
ドメイン・プリミティブの応用,ロジックがあまりにも複雑になってしまったことによるコードの負担

## 5.1 ドメイン・プリミティブ（domian primitive）と不変条件（invariant）

ドメイン・プリミティブの重要な概念

- 不変（immutable）
- 完結した概念（conceptual whole）

ドメイン・プリミティブは、その存在だけで、その値が有効であることを保証する厳格な定義がなされた値オブジェクトのこと

ドメイン・プリミティブを使って概念をモデリングをするときに重要なことは、対象のドメインにおいて概念がなんなのか正確に把握すること
メールアドレスのように RFC に即する必要もなければ、ISBN のように厳密にしたがっても良いパターンもある

ドメイン・プリミティブはドメイン・モデルを構築する最小の要素
ドメイン・プリミティブ・ライブラリを構築することで、それらはドメイン・プリミティブであり、自由に使える

## 5.2 Read-Once オブジェクト（一度しか読み込めないオブジェクト）

Read-Once オブジェクト

- Read-Once オブジェクトの主な目的は、対象となるデータが意図しない使われ方をしたときに、そのことを検出しやすくする
- Read-Onec オブジェクトは機密性の高い値もしくは概念を表現する
- Read-Once オブジェクトはドメイン・プリミティブになることが多い
- Read-Once オブジェクトの値は一度だけしか読み込めない
- 機密性の高いデータをシリアライズさせないようにする
- Read-Once オブジェクトはサブクラスを作成したり、拡張させたりをできなくなっている

## 5.3 ドメイン・プリミティブによってもたらされる安全性
