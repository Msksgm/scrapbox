# 0116\_「セキュア・バイ・デザイン」 読書 継続 389 日

# 第１０章 クラウド的考え方によるメリット

Twelve-Factor App
「SaaS を作り上げるための方法論」

デプロイと稼働は分離させる

アプリを稼働するプロセスは一連の呼出の中でクライアントの状態を保持してはいけないので以下の対策をする

- リクエストの処理結果を戻す
- 状態をバックエンド・サービスにもたせる

ログをファイルに残すのは危険なので、サービス化する

ログファイルに残すことの危険性
C：個人情報、不正アクセス
I：ログは完全性を保証しないといけない
A：データが失われないことを保証しないといけない

ログ機能をサービス化
C：「誰がどのデータに」を管理できる
I：CQRS をおこなえる（負荷が下がる）
A：トランザクションを管理しやすい。スケールしやすい

システム管理機能を構築することの重要性
C：DB を直接さわらないので、特定の作業しかできない
I：バージョン違いのリスクがなくなる
A：アプリと別のプロセスなので、原因調査のとき邪魔されない

エンタープライズセキュリティの 3 つの「R」

1. Rotate - パスワードなどのシークレットを数分もしくは数時間おきに変える
2. Repave - サーバーやアプリケーションを数時間おきに作り直す
3. Repair - ソフトウェアへのパッチが入手可能になったら、そのパッチをできるだけ早く（数時間のうちに）ソフトウェアに適用する

変化のないシステムの方が攻撃が成功する
