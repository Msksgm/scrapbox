# 0130\_「絵で見てわかる OS・ストレージ・ネットワーク 新装版」 読書 継続 404 日

## 第 5 章 ディスクを考慮した設計とパフォーマンス分析

### 5.1 キャッシュの存在

### 5.2 スループット（I/O 数）重視で考える

DBMS 以外の多くのソフトウェアでは、レスポンスが重要とされている。
対して DBMS（特に OLTP 系）では、スループットが大事だと考えられている。

DBMS のディスク選びでは、可能であれば、あえて小さなサイズのディスクを複数選ぶこと
あえて小さなディスクを多く買った方が、ストレージ全体の I/O 回数の性能が良くなる

### 5.3 ディスクの I/O ネックを避ける設計

「I/O により性能が出ない」ケース

1. 「限界に達した場合」で、使用率が高くなり、個々のレスポンスタイムが悪化する
2. インデックスをつけすぎていることによる I/O の発声

#### 5.3.1 変更済みデータの書き込み

「変更済みデータは、いつかはディスクに書かなければいけない」

### 5.4 表とインデックスの物理ディスクは分けるべきか？

今は、ストレージの仮想化が進んだので考えなくてよい

### 5.5 ディスクの設計方針

できるだけ多くのディスクを用意して RAID1+0 または、RAID5、RAID 6 構成とし、すべてのディスクを利用してデータを格納する

### 5.6 DB システムの耐障害性について

DBMS によっては、製品の機能としてログファイルなどに冗長性をもたせることができる
ソフトウェアの冗長化のほうが耐障害性において勝る
しかし、I/O が増える

### 5.6.1 バックアップの仕組みの方針

スナップショット機能
