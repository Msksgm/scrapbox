# 0202\_「達人に学ぶ DB 設計徹底指南署」 読書 継続 407 日

## 第 1 章 データベースを制する者はシステムを制す

データベースのモデルが異なれば、データフォーマットも異なる。モデルが異なれば設計技法も異なる。

DBMS が異なっても、（基本的には）設計の方法は影響を受けない

DOA Data Oriented Approach

POA プロセス中心アプローチ

3 層スキーマ

1. 外部スキーマ（外部モデル） = ビューの世界
2. 概念スキーマ（論理データモデル） = テーブルの世界
3. 内部スキーマ（物理データモデル） = ファイルの世界

概念の有用性がわからなかったら、「それがなかったらどうなるか」を考えてみよう

## 第 2 章 論理設計と物理設計

「論理設計」の「論理」は「物理層の制約にとらわれない」という意味で使う
エンティティ「実体」だが物理実体ではない
エンティティは、データを「属性」という形で保持する

物理設計のステップ

1. テーブル定義
2. インデックス定義
3. ハードウェアのサイジング
4. ストレージの冗長構成決定
5. ファイルの物理配置決定

サイジングはキャパシティとパフォーマンスの 2 つの観点から行う。
データベースの性能問題の 8 割はディスク I/O によって起きる。

性能要件の指標は二つ。「どれだけ速いか」と「どれだけ多いか」

精度の高いサイジングは難しい。それゆえ、

- 必ず実装時には安全率をかけること
- スケーラビリティの高い構成を組むこと

RAID
RAID0 分散
RAID1 ミラーリング
RAID5 パリティで複合
RAID10 RAID 1+0 ミラーリングしたものを分散させる

ファイルの物理配置

1. データファイル データベースに格納するデータを保持するためのファイル
2. インデックスファイル インデックスが格納されるファイル
3. システムファイル DBMS の内部管理用に使われるデータを格納する
4. 一時ファイル DBMS 内部での一時的なデータを格納するために使われる
5. ログファイル いったん、ログファイルに変更分を埋め込んだあとに、一括してデータファイルに変更を反映する
