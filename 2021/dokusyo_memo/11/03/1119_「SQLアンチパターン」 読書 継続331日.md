# 1119\_「SQL アンチパターン」 読書 継続 331 日

## ９章 ラウンディングエラー（丸め誤差）

小数点を使うと、丸め誤差が起きる可能性がある

FLOAT ではなく NUMERIC データ型を使う

## １０章 サーティワンフレーバー（３１のフレーバー）

列を CHECK などで、特定な値にすると柔軟なテーブル設計じゃなくなり、更新時に不整合が発生する

解決策:限定する値をデータで指定する

## １１章 ファントムファイル（幻のファイル）

画像の値を BLOB ではなく、path で保存すると、RDB では管理しきれない範疇になってしまう

解決策:必要に応じて最適化する

## １２章 インデックスショットガン（闇雲インデックス）

知識なしにインデックスをつけると意味がないし、インデックスをつけるとパフォーマンスが落ちるかもしれないという理由でつけないのもよくない

解決策:「MENTOR」の原則に基づいて効果的なインデックス管理を行う

Mesure（測定）、Explain（解析）、Nominate（指名）、Test（テスト）、Optimize（最適化）、Rebuild（再構築）

## 13 章 フィア・オブ・ジ・アンノウン（恐怖の unknown）

NULL には気をつけろ

解決策:NULL を一意な値として扱う
