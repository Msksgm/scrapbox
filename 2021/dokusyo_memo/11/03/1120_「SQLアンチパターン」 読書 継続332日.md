# 1120\_「SQL アンチパターン」 読書 継続 332 日

## 14 章 アンギュアスグループ（曖昧なグループ）

## 15 章 ランダムセレクション

サンプル行をだしたい

できないランダムにフェッチすると、DB が増えていくにつれて、膨大なコストがかかる

解決策:特定の順番に依存しない方法を使用する

1 と最大値の間のランダムなキー値を選択する

欠番の穴の後にあるキー値を先 t 買うする

すべてのキー値のリストを受け取り、ランダムに１つを選択する

オフセットを用いてランダムに行を選択する

ベンダー依存の解決策

## 16 章 プアマンズ・サーチエンジン（貧者のサーチエンジン）

全文検索を使うのに LIKE 句を使うと、膨大な検索時間がかかる

解決策:適切なツールを使用する

## 17 章 スパゲッティクエリ

ひとつのテーブルにしようとして、複雑な SQL にすると、メンテナンス性が低下する

解決策:分割統治を行う

ワンステップずつ

UNION を用いる

CASE 式と SUM 関数を組み合わせる

上司の問題を解決する

SQL を用いた SQL の自動的な記述

## 18 章 インプリシットカラム（暗黙の列）

「\*」ワイルドカードを使わずに全ての行をだしたい

できない

面倒でも、一行ずつ書いた方がいい
